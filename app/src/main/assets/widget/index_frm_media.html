<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="maximum-scale=1.0, minimum-scale=1.0, user-scalable=0, initial-scale=1.0, width=device-width"/>
    <meta name="format-detection" content="telephone=no, email=no, date=no, address=no">
    <title>WinA</title>
    <link rel="stylesheet" type="text/css" href="css/api.css" />
    <link rel="stylesheet" type="text/css" href="css/box.css" />
    <script type="text/javascript" src="script/public.js"></script>
    <style>
    	p{
    		color:#999;
    		padding:5px;
    	}
    </style>
	<script type="text/javascript">
	    
		var uzmoduledemo = null;
		var scrollPicture = null;
		apiready = function(){
	    	uzmoduledemo = api.require('moduleDemo');
	    	scrollPicture = api.require('scrollPicture');
	    	loginMedia();
	    }

<!--C97AEBAA-79AA-4AF3-996A-445093072890 谷祥银-->
<!--174F43BE-AB46-4314-9F80-A174012BC77C 王孟沁-->
<!--DE4EE79F-8688-4494-95BC-0DC25B648E90 7960-->
		function loginMedia(){
			var obj = api.require('jzbChatMedia');
			 obj.loginMedia({
        		nickName: '谷祥银',
        		userid: 'C97AEBAA-79AA-4AF3-996A-445093072890',
        		userSig: '126',
        		sdkAppid: '1400676296',
        		photo : 'https://img0.baidu.com/it/u=2940250311,3429071889&fm=253&fmt=auto&app=138&f=JPEG?w=897&h=500'
    		 }, function(ret, err) {
          		alert(JSON.stringify(ret));
    		 });
		}

		function loginMediaBySig(){
			var obj = api.require('jzbChatMedia');
			 obj.loginMediaBySig({
        		nickName: '谷先森',
        		userid: '174F43BE-AB46-4314-9F80-A174012BC77C',
        		userSig: userSig,
        		sdkAppid: '1400676296',
        		photo : 'https://img0.baidu.com/it/u=2940250311,3429071889&fm=253&fmt=auto&app=138&f=JPEG?w=897&h=500'
    		 }, function(ret, err) {
          		alert(JSON.stringify(ret));
    		 });
		}


		function singleAudio(){
			var obj = api.require('jzbChatMedia');
			 obj.singleAudio({
        		calleeUserid:'174F43BE-AB46-4314-9F80-A174012BC77C',
        		callNickName: '谷先森',
        	    corporateName:'长沙交通局',
        		selfCorporateName:'长沙计支宝信息科技有限公司',
    		 }, function(ret, err) {
          		alert(JSON.stringify(ret));
    		 });
		}

		function singleVideo(){
			var obj = api.require('jzbChatMedia');
			 obj.singleVideo({
			    callNickName: '谷先森',
        		calleeUserid:'174F43BE-AB46-4314-9F80-A174012BC77C',
        	    corporateName:'长沙交通局',
        		selfCorporateName:'长沙计支宝信息科技有限公司',
    		 }, function(ret, err) {
          		alert(JSON.stringify(ret));
    		 });
		}

	    function manyAudio(){
			var obj = api.require('jzbChatMedia');
			 obj.manyAudio({
			    callNickName: '谷先森',
        		calleeUserid:'[{"id":"C97AEBAA-79AA-4AF3-996A-445093072890","name":"谷先森"},{"id":"174F43BE-AB46-4314-9F80-A174012BC77C","name":"王孟沁"},{"id":"6C915778-6A54-4E60-92D0-5D272B2F39E8","name":"朱迎兵"}]',
        		corporateName:'长沙计支宝信息科技有限公司cs3',
        		groupID:'4FF83F4F38294AA1A50C4181B299EA88',
        		maxUsers:9
    		 }, function(ret, err) {
          		alert(JSON.stringify(ret));
    		 });
		}
	    function manyVideo(){
			var obj = api.require('jzbChatMedia');
			 obj.manyVideo({
			    callNickName: '谷先森',
        		calleeUserid:'[{"id":"174F43BE-AB46-4314-9F80-A174012BC77C","name":"王孟沁"},{"id":"41BAF036-D861-42AE-B562-A957C4DD47EC","name":"宋德寅"},{"id":"6C915778-6A54-4E60-92D0-5D272B2F39E8","name":"朱迎兵"},{"id":"8A360B82-6C4E-4A4E-A361-F35605D35DB7","name":"刘丰鑫"},{"id":"B210B184-656E-4B4D-AD29-715D37913785","name":"黄龙波cs"},{"id":"D04F2FE7-8A74-4DE7-A115-62AB4B2F9AD3","name":"邓南健"},{"id":"D3D86957-42B8-4DA5-9AB9-9B410E2AB22A","name":"用户8495"},{"id":"DE4EE79F-8688-4494-95BC-0DC25B648E90","name":"陈奎"}]',
        		corporateName:'长沙计支宝信息科技有限公司cs4',
        		groupID:'4FF83F4F38294AA1A50C4181B299EA88',
        		maxUsers:9
    		 }, function(ret, err) {
          		alert(JSON.stringify(ret));
    		 });
		}

	    function reservationRoom(){
			var obj = api.require('jzbChatMedia');
			 obj.reservationRoom({
        		roomId:'121212',
    		 }, function(ret, err) {
          		alert(JSON.stringify(ret));
    		 });
		}

		function createRoom(){
			var obj = api.require('jzbChatMedia');
			 obj.createRoom({
        		roomId:'121212',
        		winName: api.winName,
                frameName: api.frameName,
        		inviteOthersScript: 'InviteOtherInfo();',
                hostChangeScript: 'hostChange();',
        		openCamera:true,
        		openAudio:true
    		 }, function(ret, err) {
          		alert(JSON.stringify(ret));
    		 });
		}

	    function enterRoom(){
			var obj = api.require('jzbChatMedia');
			 obj.enterRoom({
        		roomId:'121212',
        		winName: api.winName,
                frameName: api.frameName,
        		inviteOthersScript: 'InviteOtherInfo();',
                hostChangeScript: 'hostChange();',
        		openCamera:true,
        		openAudio:true
    		 }, function(ret, err) {
          		alert(JSON.stringify(ret));
    		 });
		}

        function InviteOtherInfo() {
            alert("1");
            var UIChatBox = api.require('jzbChatMedia');
			    UIChatBox.getInviteOtherInfo({
			        }, function(ret, err) {
			           alert(JSON.stringify(ret));
			});
        }

        function hostChange() {
            var UIChatBox = api.require('jzbChatMedia');
			    UIChatBox.getHostChangeInfo({
			        }, function(ret, err) {
			           alert(JSON.stringify(ret));
			});
        }


		function add_Elv(){
		    var UIChatBox = api.require('jzbChatMedia');
			UIChatBox.addRoomLister({
			}, function(ret, err) {
			    alert(JSON.stringify(ret));
			});
		}

		function add_Float(){
		    var UIChatBox = api.require('jzbChatMedia');
			UIChatBox.getFloatWindow({
			}, function(ret, err) {
			    alert(JSON.stringify(ret));
			});
		}

		function float(ret){
		    api.alert({msg:ret.content});
		}

       function audioToVideo(){
			api.openFrame({
               name: 'index_frm_basics',
               url: 'index_frm_basics.html',
             });
		}

		function isLogin(){
		    var UIChatBox = api.require('jzbChatMedia');
			UIChatBox.isLogin({
			}, function(ret, err) {
			    alert(JSON.stringify(ret));
			});
		}
		function loginOut(){
		    var UIChatBox = api.require('jzbChatMedia');
			UIChatBox.loginOut({
			}, function(ret, err) {
			    alert(JSON.stringify(ret));
			});
		}
	</script>
</head>
<body>
    <div id="wrap">
        <div id="main">
        	<br>
				<div class="clickbtn" tapmode="active" onclick="loginMedia()" >登录</div>
			    <div class="clickbtn" tapmode="active" onclick="loginMediaBySig()" >登录bySig</div>
			    <div class="clickbtn" tapmode="active" onclick="loginOut()" >退出登录</div>
				<div class="clickbtn" tapmode="active" onclick="singleAudio()" >1对1语音聊天</div>
				<div class="clickbtn" tapmode="active" onclick="singleVideo()" >1对1视频聊天</div>
				<div class="clickbtn" tapmode="active" onclick="manyAudio()" >多人语音聊天</div>
				<div class="clickbtn" tapmode="active" onclick="manyVideo()" >多人视频聊天</div>
			    <div class="clickbtn" tapmode="active" onclick="reservationRoom()" >预定会议</div>
			    <div class="clickbtn" tapmode="active" onclick="createRoom()" >创建会议</div>
			    <div class="clickbtn" tapmode="active" onclick="enterRoom()" >加入会议</div>
			    <div class="clickbtn" tapmode="active" onclick="add_Elv()" >监听</div>
			    <div class="clickbtn" tapmode="active" onclick="add_Float()" >检查悬浮窗权限</div>
			    <div class="clickbtn" tapmode="active" onclick="audioToVideo()">聊天功能</div>
			   <div class="clickbtn" tapmode="active" onclick="audioToVideo()">返回上个页面</div>
			   <div class="clickbtn" tapmode="active" onclick="isLogin()">是否登录</div>
			<br>
		</div>
	</div>
</body>
</html>